{"version":3,"sources":["components/Header.js","components/Footer.js","components/Options.js","components/Loading.js","components/NoListings.js","components/Contract.js","components/PriceDifferences.js","components/BaazaarFiltering.js","components/Views.js","components/ViewSelector.js","components/Dapp.js","reportWebVitals.js","index.js"],"names":["Header","Component","Footer","Options","props","values","categoryOptions","label","value","className","onSubmit","this","handleOptionsSubmit","name","defaultValue","category","map","option","type","min","max","valueDifference","Loading","NoListings","Contract","address","abi","connection","undefined","init","console","log","provider","ethers","providers","JsonRpcProvider","contract","connect","PriceDifferences","_isMounted","getConnection","bind","divideBy","BigNumber","from","contractTest","state","listings","tables","outputListings","listing","sort","a","b","getERC1155Listings","formattedListings","listingId","erc1155TypeId","priceInWei","formattedTypeId","toNumber","formattedListingId","formattedpriceInWei","div","priceInGHST","hasOwnProperty","push","groupedListings","orderedListings","Object","entries","item","length","ordered","orderItems","lowest","secondLowest","orderedSlice","slice","grouped","groupListings","orderGroupedListings","orderListings","getListings","data","keys","setState","results","tableRows","row","href","target","rel","getItemType","itemDetails","table","e","preventDefault","newCategory","parseInt","newDifference","difference","BaazaarFiltering","Views","view","ViewSelector","views","handleViewSwitch","dataset","data-view","onClick","Dapp","aavegotchiContract","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c095619b.chunk.js","sourcesContent":["import { Component } from 'react';\r\n\r\nexport class Header extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<header>\r\n\t\t\t\t\t<h1>Aavegotchi Baazaar Hunter</h1>\r\n\t\t\t\t</header>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n","import { Component } from 'react';\r\n\r\nexport class Footer extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<footer>\r\n\t\t\t\t\t<p>Not affiliated with Aavegotchi. Created by an Aavegotchi fan.</p>\r\n\t\t\t\t\t<p>Donations 0x5E40eD0f86b4A2A4018Cf9b6A17B54fE9d12844d</p>\r\n\t\t\t\t</footer>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n","import { Component } from 'react';\r\n\r\nexport class Options extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.values = this.props.values;\r\n\r\n\t\tthis.categoryOptions = [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Wearable',\r\n\t\t\t\tvalue: '0',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Consumable',\r\n\t\t\t\tvalue: '2',\r\n\t\t\t},\r\n\t\t];\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"options\">\r\n\t\t\t\t<form className=\"options__form\" onSubmit={this.props.handleOptionsSubmit}>\r\n\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\t<p>Collections:</p>\r\n\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tname=\"category\"\r\n\t\t\t\t\t\t\tclassName=\"options__input options__input--select\"\r\n\t\t\t\t\t\t\tdefaultValue={this.values.category}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{this.categoryOptions.map((option) => (\r\n\t\t\t\t\t\t\t\t<option key={option.value} value={option.value}>\r\n\t\t\t\t\t\t\t\t\t{option.label}\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<label>\r\n\t\t\t\t\t\tPercentage Difference:\r\n\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tname=\"difference\"\r\n\t\t\t\t\t\t\tclassName=\"options__input\"\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tmin=\"0\"\r\n\t\t\t\t\t\t\tmax=\"99\"\r\n\t\t\t\t\t\t\tdefaultValue={this.values.valueDifference}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<input className=\"options__input options__input--submit\" type=\"submit\" value=\"Search\"/>\r\n\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import { Component } from 'react';\r\n\r\nexport class Loading extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"listings listings--none\">\r\n\t\t\t\t\t<p className=\"listings__loading\">Loading...</p>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n","import { Component } from 'react';\r\n\r\nexport class NoListings extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"listings listings--none\">\r\n\t\t\t\t\t<p className=\"listings__warning\">There were no listings found.<br /> Try making your Percentage Difference smaller.</p>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}","import abi from '../diamondABI/diamond.json';\r\nimport { ethers } from 'ethers';\r\n\r\nexport class Contract {\r\n\tconstructor() {\r\n\t\t// Set the contract address\r\n\t\tthis.address = '0x86935F11C86623deC8a25696E1C19a8659CbF95d';\r\n\t\t// Get the contract ABI\r\n\t\tthis.abi = abi;\r\n\r\n\t\t// Set the to be defined connection\r\n\t\tthis.connection = undefined;\r\n\r\n\t\t// Initialise the connection\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tgetConnection() {\r\n\t\tif (!this.connection) {\r\n\t\t\tconsole.log('New Connection');\r\n\t\t\tthis.connection = new Contract();\r\n\t\t}\r\n\r\n\t\treturn this.connection;\r\n\t}\r\n\r\n\tinit() {\r\n\t\t// Create the connection\r\n\t\tconst provider = new ethers.providers.JsonRpcProvider('https://rpc-mainnet.matic.network');\r\n\r\n\t\t// Get the aavegotchi contract\r\n\t\tconst contract = new ethers.Contract(this.address, this.abi, provider);\r\n\r\n\t\t// Store the connection\r\n\t\tconsole.log('Initial Connection');\r\n\t\tthis.connection = contract.connect(provider);\r\n\t}\r\n}","import { Component } from 'react';\r\nimport { BigNumber } from 'ethers';\r\nimport { Options } from './Options';\r\nimport { Loading } from './Loading';\r\nimport { NoListings } from './NoListings';\r\nimport { Contract } from './Contract';\r\n\r\nexport class PriceDifferences extends Component {\r\n\t_isMounted = false;\r\n\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\t// Get the contract\r\n\t\tthis.contract = new Contract();\r\n\t\t// Get the connection\r\n\t\tthis.connection = this.contract.getConnection();\r\n\r\n\t\t// Bind form handler this\r\n\t\tthis.handleOptionsSubmit = this.handleOptionsSubmit.bind(this);\r\n\r\n\t\t// Set the value to divide the price in wei by\r\n\t\tthis.divideBy = BigNumber.from('1000000000000000000');\r\n\r\n\t\tthis.contractTest = new Contract();\r\n\r\n\t\t// Set the state\r\n\t\tthis.state = {\r\n\t\t\tvalues: {\r\n\t\t\t\tcategory: 0,\r\n\t\t\t\tvalueDifference: 25,\r\n\t\t\t},\r\n\t\t\tlistings: undefined,\r\n\t\t\ttables: undefined,\r\n\t\t};\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true;\r\n\t\tthis.outputListings();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis._isMounted = false;\r\n\t}\r\n\r\n\torderItems(listing) {\r\n\t\treturn listing.sort((a, b) => a['priceInGHST'] - b['priceInGHST']);\r\n\t}\r\n\r\n\tasync groupListings() {\r\n\t\t// Get the listings in the baazaar\r\n\t\tconst listings = await this.connection.getERC1155Listings(\r\n\t\t\tthis.state.values.category,\r\n\t\t\t'listed',\r\n\t\t\t1000\r\n\t\t);\r\n\r\n\t\t// Set an object to store the formatted listings\r\n\t\tconst formattedListings = {};\r\n\r\n\t\t// Loop over each listing\r\n\t\tfor (const listing of listings) {\r\n\t\t\t// Get the data needed from the listing\r\n\t\t\tconst { listingId, erc1155TypeId, priceInWei } = listing;\r\n\t\r\n\t\t\t// We know these numbers are safe for JS, so convert them\r\n\t\t\tconst formattedTypeId = erc1155TypeId.toNumber();\r\n\t\t\tconst formattedListingId = listingId.toNumber();\r\n\t\r\n\t\t\t// Divide the price in wei to get the value in GHST\r\n\t\t\tconst formattedpriceInWei = priceInWei.div(this.divideBy);\r\n\t\t\t// We know this will be a safe low number now\r\n\t\t\tconst priceInGHST = formattedpriceInWei.toNumber();\r\n\r\n\t\t\t// If the type ID doesn't exist as a key, add it\r\n\t\t\tif (!formattedListings.hasOwnProperty(formattedTypeId)) formattedListings[formattedTypeId] = [];\r\n\r\n\t\t\t// Pass the object we'd like to place within the type array\r\n\t\t\tformattedListings[formattedTypeId].push({\r\n\t\t\t\tlistingId: formattedListingId,\r\n\t\t\t\tpriceInGHST,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn formattedListings;\r\n\t}\r\n\r\n\tasync orderGroupedListings(groupedListings) {\r\n\t\tconst listings = await groupedListings;\r\n\r\n\t\t// Set an object to store the ordered listings\r\n\t\tconst orderedListings = {};\r\n\t\r\n\t\tfor (const [item, listing] of Object.entries(listings)) {\r\n\t\t\t// Don't order or include if only one for sale\r\n\t\t\tif (listing.length <= 1) continue;\r\n\r\n\t\t\t// Get the items ordered by priceInGHST\r\n\t\t\tconst ordered = this.orderItems(listing);\r\n\r\n\t\t\t// Get the lowest priced item\r\n\t\t\tconst lowest = listing[0]['priceInGHST'];\r\n\t\t\t// Get the second lowest priced item\r\n\t\t\tconst secondLowest = listing[1]['priceInGHST'];\r\n\t\t\tconst diff = ((secondLowest - lowest) / secondLowest) * 100;\r\n\r\n\t\t\t// Only add it to the list if the difference is over a certain amount (25)\r\n\t\t\tif (diff >= this.state.values.valueDifference) {\r\n\t\t\t\t// Cut down the list\r\n\t\t\t\tconst orderedSlice = ordered.slice(0, 5);\r\n\t\r\n\t\t\t\t// Add the ordered items to the item object\r\n\t\t\t\torderedListings[item] = orderedSlice;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn orderedListings;\r\n\t};\r\n\t\r\n\tasync getListings() {\r\n\t\t/**\r\n\t\t * Looked to set the getListings _length with the amount of add listing events\r\n\t\t * However, it's both too slow, and the result is too large\r\n\t\t * The given number cause a MetaMask crash. It can't estimate gas\r\n\t\t * \r\n\t\t * const listingAddEvent = this.connection.filters.ERC1155ListingAdd();\r\n\t\t * const listingCount = await this.connection.queryFilter(listingAddEvent);\r\n\t\t */\r\n\r\n\t\t// Get the grouped listings\r\n\t\tconst grouped = this.groupListings();\r\n\r\n\t\t// Order each group\r\n\t\tconst orderListings = await this.orderGroupedListings(grouped);\r\n\r\n\t\treturn orderListings;\r\n\t}\r\n\r\n\tasync outputListings() {\r\n\t\tconst data = await this.getListings();\r\n\r\n\t\t// If there's no data returned (nothing made it through the price difference check)\r\n\t\t// Set the tables to an empty obj and break\r\n\t\tif (!Object.keys(data).length) {\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttables: {},\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Set an array to store the results\r\n\t\tconst results = [];\r\n\r\n\t\tfor (const [item, listings] of Object.entries(data)) {\r\n\t\t\tconst tableRows = [];\r\n\r\n\t\t\tfor (const listing of listings) {\r\n\t\t\t\tconst { listingId, priceInGHST } = listing;\r\n\r\n\t\t\t\tconst row = (\r\n\t\t\t\t\t<tr key={listingId}>\r\n\t\t\t\t\t\t<td><a href={`https://aavegotchi.com/baazaar/erc1155/${listingId}`} target=\"_blank\" rel=\"noreferrer\">{listingId}</a></td>\r\n\t\t\t\t\t\t<td>{priceInGHST}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t);\r\n\r\n\t\t\t\ttableRows.push(row);\r\n\t\t\t}\r\n\r\n\t\t\t// Get items name\r\n\t\t\tconst itemDetails = await this.connection.getItemType(item);\r\n\t\t\tconst name = itemDetails[0];\r\n\r\n\t\t\tconst table = (\r\n\t\t\t\t<div className=\"listings__card card\" key={item}>\r\n\r\n\t\t\t\t\t<h2 className=\"card__title\">{name} <small>({item})</small></h2>\r\n\r\n\t\t\t\t\t<table className=\"card__table\">\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t<th>Listing</th>\r\n\t\t\t\t\t\t\t\t<th>Price</th>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t{tableRows}\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</table>\r\n\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\r\n\t\t\tresults.push(table);\r\n\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\ttables: results,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleOptionsSubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst newCategory = parseInt(e.target.category.value);\r\n\t\tconst newDifference = parseInt(e.target.difference.value);\r\n\r\n\t\tthis.setState({\r\n\t\t\tvalues: {\r\n\t\t\t\tcategory: newCategory,\r\n\t\t\t\tvalueDifference: newDifference,\r\n\t\t\t},\r\n\t\t\tlistings: undefined,\r\n\t\t\ttables: undefined,\r\n\t\t},\r\n\t\tthis.outputListings);\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!this.state.tables) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Options handleOptionsSubmit={this.handleOptionsSubmit} values={this.state.values} />\r\n\t\t\t\t\t<Loading />\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t} else if (Object.keys(this.state.tables).length) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Options handleOptionsSubmit={this.handleOptionsSubmit} values={this.state.values} />\r\n\t\t\t\t\t<div className=\"listings\">{this.state.tables}</div>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t\t\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Options handleOptionsSubmit={this.handleOptionsSubmit} values={this.state.values} />\r\n\t\t\t\t<NoListings />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}","import { Component } from 'react';\r\n\r\nexport class BaazaarFiltering extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"filtering\">\r\n\t\t\t\t\t<h3>Baazaar Filtering</h3>\r\n\t\t\t\t\t<p>I plan to soon add a feature to be able to show the highest and lowest listings of Portals and Aavegotchis.</p>\r\n\t\t\t\t</div>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}","import { Component } from 'react';\r\nimport { PriceDifferences } from './PriceDifferences';\r\nimport { BaazaarFiltering } from './BaazaarFiltering';\r\n\r\nexport class Views extends Component {\r\n\trender() {\r\n\t\tif (this.props.view === 'price-differences') {\r\n\t\t\treturn <PriceDifferences contract={this.props.contract} />;\r\n\t\t}\r\n\t\telse if (this.props.view === 'baazaar-filtering') {\r\n\t\t\treturn <BaazaarFiltering />;\r\n\t\t}\r\n\t}\r\n}\r\n","import { Component } from 'react';\r\nimport { Views } from './Views';\r\n\r\nexport class ViewSelector extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\r\n\t\tthis.state = {\r\n\t\t\tview: 'price-differences',\r\n\t\t};\r\n\r\n\t\tthis.views = [\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Price Difference Finder',\r\n\t\t\t\tvalue: 'price-differences',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: 'Coming Soon',\r\n\t\t\t\tvalue: 'baazaar-filtering',\r\n\t\t\t},\r\n\t\t];\r\n\r\n\t\tthis.handleViewSwitch = this.handleViewSwitch.bind(this);\r\n\t}\r\n\r\n\thandleViewSwitch(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst { view } = e.target.dataset;\r\n\r\n\t\tthis.setState({ view });\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"views\">\r\n\t\t\t\t\t{this.views.map((view) => (\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tkey={view.value}\r\n\t\t\t\t\t\t\tclassName=\"views__selector btn\"\r\n\t\t\t\t\t\t\tdata-view={view.value}\r\n\t\t\t\t\t\t\tonClick={this.handleViewSwitch}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{view.label}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t\t{this.state.view && <Views contract={this.props.contract} view={this.state.view} />}\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n\r\n","import { Component } from 'react';\r\nimport { Header } from './Header';\r\nimport { Footer } from './Footer';\r\nimport { ViewSelector } from './ViewSelector';\r\n\r\nexport class Dapp extends Component {\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<ViewSelector contract={this.aavegotchiContract} />\r\n\t\t\t\t<Footer />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n}\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { Dapp } from './components/Dapp';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<Dapp />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}